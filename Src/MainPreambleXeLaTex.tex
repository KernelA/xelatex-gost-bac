\usepackage{fontspec}

% Спецификация для различных языков.
\usepackage{polyglossia}

%\usepackage{xparse}

% Установка основного языка и дополнительного.
\setdefaultlanguage[spelling=modern]{russian}
\setotherlanguage{english}

% Установка шрифтов
\setromanfont[Mapping=tex-text]{Times New Roman}
\setmonofont[Mapping=tex-text]{Courier New}
\setsansfont[Mapping=tex-text]{Arial}

% Для избежаниия ошибки о том, что не определён шрифт для кириллических символов.
\newfontfamily\cyrillicfonttt{Courier New}[Script=Cyrillic]
\newfontfamily\cyrillicfontsf{Arial}[Script=Cyrillic]

% Русские буквы в формулах.
\usepackage{mathtext} 				

\frenchspacing

% Стандартнызх символов, которые приняты в России. Для них сущетсвует аналогичные команды, но их сложнее запомнить.
% Это можно закомментировать, если удобнее писать эквивалентные команды.
\renewcommand{\epsilon}{\ensuremath{\varepsilon}}
\renewcommand{\phi}{\ensuremath{\varphi}}
\renewcommand{\kappa}{\ensuremath{\varkappa}}
\renewcommand{\le}{\ensuremath{\leqslant}}
\renewcommand{\leq}{\ensuremath{\leqslant}}
\renewcommand{\ge}{\ensuremath{\geqslant}}
\renewcommand{\geq}{\ensuremath{\geqslant}}
\renewcommand{\emptyset}{\varnothing}


% Стандартные пакеты AMS.
\usepackage{amsmath,amsfonts,amssymb,amsthm, mathtools} 

\usepackage{etoolbox}

% Определение функции sign.
\DeclareMathOperator{\sgn}{\mathop{sgn}}

% Теоремы.
\theoremstyle{plain} % Это стиль по умолчанию, его можно не переопределять.
\newtheorem{theorem}{Теорема}[section]
\newtheorem{proposition}[theorem]{Утверждение}

% "Определение".
\theoremstyle{definition} 
\newtheorem{corollary}{Следствие}[theorem]
\newtheorem{problem}{Задача}[section]
 
% "Примечание".
\theoremstyle{remark} 
\newtheorem*{nonum}{Решение}

% Узнать, сколько всего страниц в документе.
\usepackage{lastpage} 

% Слияние строк в таблице.
\usepackage{multirow} 

% Первая строка начинается с отсупа.
\usepackage{indentfirst}

% Заголовки.
% \header используется для заголовков, которые добавляются в toc.
% \header* не добавляет содержимое в toc.
\NewDocumentCommand\header{s m}{% s = star, m = mandatory arg
   \IfBooleanTF{#1}{%
      \paragraph*{#2}%
   }{%
      \paragraph{#2}%
   }%
}

% Окружение для реферата.
\newenvironment{gostabstract}[1]{\newpage\header*{#1}}{\newpage}

% Окружение для списка сокращений.
\newenvironment{lofab}[1]{\newpage\header{#1}}{\newpage}

% Окружение для section.
\newenvironment{gostsection}[1]{\newpage\section{#1}}{\newpage}

% Команда для формирования содержания.
\newcommand{\gosttableofcontents}{\newpage\tableofcontents\newpage}

% Окружение для заголовков.
\newenvironment{gostheader}[1]{\newpage\header{#1}}{\newpage}

% Окружения для вставки рисунков, таблиц, приложений.
\newenvironment{gostfigure}{\stepcounter{totfigures}}{}
\newenvironment{gosttable}{\stepcounter{tottables}}{}
\newenvironment{gostappendix}[1]{\newpage\stepcounter{totappendix}\subparagraph{#1}}{\newpage}

% Окружение для библиографии.
\newenvironment{gostbibliography}[2]{\newpage\titlespacing*{\paragraph}{0pt}{*4}{-3ex}\header{#1}\renewcommand{\refname}{}\begin{thebibliography}{#2}}{\end{thebibliography}\newpage}

% Переопределение команды, чтобы номера списка литературы были формата '9.', а не '[9]'.
\makeatletter
\renewcommand\@biblabel[1]{#1.}
\makeatother

% Команда для печати заголовка 'ОСНОВНАЯ ЧАСТЬ' на отдельной странице и с выравнианием по центру.
\newcommand{\mainpart}{\vspace*{\fill}%
\begin{center}%
\paragraph{ОСНОВНАЯ ЧАСТЬ}%
%\phantomsection\addcontentsline{toc}{paragraph}{ОСНОВНАЯ ЧАСТЬ}%
\end{center}%
\vspace*{\fill}%
\newpage%
}


